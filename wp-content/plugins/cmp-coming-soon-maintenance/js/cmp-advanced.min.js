jQuery(document).ready(function(e){var a=document.location.hash.substring(1),t=jQuery("#csoptions").attr("action"),n=!1;function r(e){jQuery("."+e).change(function(){var a=jQuery("."+e+":checked").val();a=void 0===(a=jQuery.isNumeric(a)?"x"+a:a)?"x0":a,jQuery("."+e+"-switch."+a).css("display","block"),jQuery("."+e+"-switch:not(."+a+")").css("display","none")}),jQuery("."+e).first().trigger("change")}function i(a){jQuery("#add-"+a).click(function(t){t.preventDefault();var n=jQuery("#wrapper-"+a),r=jQuery("#wrapper-"+a+" .target-repeater-fields"),i=n.find(".source-repeater-fields").children().clone();e(i[0]).val(""),e(r).append(i)}),function(a){jQuery("#wrapper-"+a+" .target-repeater-fields").on("click","a[href=#delete-"+a+"]",function(a){a.preventDefault(),e(this).prev().remove(),e(this).remove()}),jQuery("#wrapper-"+a+" .source-repeater-fields").on("click","a[href=#delete-"+a+"]",function(a){a.preventDefault(),e(this).prev().val("")})}(a)}navtab=function(e){jQuery(".cmp-coming-soon-maintenance .nav-tab-wrapper .nav-tab").removeClass("nav-tab-active"),jQuery('.nav-tab-wrapper .nav-tab[data-tab="'+e+'"]').addClass("nav-tab-active"),jQuery(".cmp-coming-soon-maintenance .table-wrapper."+e).css("display","block"),jQuery(".cmp-coming-soon-maintenance .table-wrapper-css."+e).css("display","block"),jQuery(".cmp-coming-soon-maintenance .comingsoon."+e).css("display","block"),jQuery(".cmp-coming-soon-maintenance .table-wrapper:not(."+e+")").css("display","none"),jQuery(".cmp-coming-soon-maintenance .table-wrapper-css:not(."+e).css("display","none"),jQuery(".cmp-coming-soon-maintenance .comingsoon:not(."+e+")").css("display","none"),"install"==e?(jQuery(".cmp-coming-soon-maintenance .submit").css("display","none"),jQuery(".cmp-coming-soon-maintenance #csoptions").attr("action",t)):(jQuery(".cmp-coming-soon-maintenance .submit").css("display","block"),jQuery(".cmp-coming-soon-maintenance #csoptions").attr("action",t+"#"+e))},""!=a?navtab(a):jQuery(".cmp-coming-soon-maintenance .table-wrapper-css").css("display","none"),window.onhashchange=function(){a=document.location.hash.substring(1),navtab(a)},r("page-whitelist"),r("cmp-bypass"),r("cmp-topbar-icon"),r("countdown-toggle"),r("mode-change-toggle"),i("head_scripts"),i("footer_scripts"),jQuery("#cmp-import-json").on("change",function(a){jQuery(".import-json-label").attr("data-default",a.target.files[0].name);var t=new FileReader;t.onload=function(e){jQuery("#cmp-import-input").val(e.target.result)},t.readAsText(a.target.files[0]),e("#cmp-import-settings").attr("disabled",!1),jQuery(".import-json-label").removeClass("import-fail"),n=!1}),jQuery("#cmp-export-json").click(function(e){e.preventDefault();var a={action:"cmp_ajax_export_settings",security:jQuery(this).data("security")};jQuery.post(ajaxurl,a,function(e){e&&jQuery("<iframe />").attr("src",ajaxurl+"?action=cmp_ajax_export_settings&security="+jQuery("#cmp-export-json").data("security")).appendTo("body").hide()})}),jQuery("#cmp-import-settings").click(function(e){if(e.preventDefault(),!0===n)return!1;var a=jQuery("#cmp-import-input").val(),t=jQuery(".import-json-label");if(!jQuery("#cmp-import-media").is(":checked")){var r=new Array("niteoCS_banner_id","niteoCS_logo_id","niteoCS_seo_img_id");(a=jQuery.parseJSON(a)).map(function(e,t){for(var n in e)r.indexOf(n)>-1&&a.splice(t,1)}),a=JSON.stringify(a)}var i={action:"cmp_ajax_import_settings",security:jQuery(this).data("security"),json:a};n=!0;var s=(new Date).getTime();t.html('<i class="fa fa-cog fa-spin" aria-hidden="true"></i> importing..'),t.attr("data-default",""),jQuery.post(ajaxurl,i,function(e){if(e){var a=(new Date).getTime()-s,n=jQuery.parseJSON(e);a>2e3?("success"==n.result?t.addClass("import-success"):t.addClass("import-fail"),t.html(""),t.attr("data-default",n.message)):setTimeout(function(){"success"==n.result?t.addClass("import-success"):t.addClass("import-fail"),t.html(""),t.attr("data-default",n.message)},2e3-a)}})}),jQuery(".cmp-whitelist-select, .cmp-blacklist, .cmp-user_roles").select2({width:"calc(100% - 1em)",placeholder:"Click to select.."}),jQuery('select[name="niteoCS_topbar_version"]').select2({width:"calc(100% - 1em)",minimumResultsForSearch:-1})});